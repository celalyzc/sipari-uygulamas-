<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Garson Defteri PRO</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
font-family:Arial;
background:#f4f4f4;
max-width:500px;
margin:auto;
padding:10px;
}

h2{text-align:center;margin-bottom:10px}

select{
width:100%;
padding:10px;
font-size:16px;
margin-bottom:10px;
border-radius:8px;
border:1px solid #ccc;
}

.urun{
background:white;
padding:12px;
margin:6px 0;
border-radius:12px;
display:flex;
justify-content:space-between;
align-items:center;
font-size:15px;
box-shadow:0 2px 5px rgba(0,0,0,0.05);
}

.urun button{
width:45px;
height:45px;
font-size:22px;
border:none;
border-radius:50%;
background:#2ecc71;
color:white;
}

.saya√ß{
background:white;
padding:8px;
border-radius:10px;
margin-bottom:10px;
font-size:14px;
box-shadow:0 2px 5px rgba(0,0,0,0.05);
}

.kart{
background:white;
padding:8px;
margin:6px 0;
border-radius:10px;
display:flex;
justify-content:space-between;
align-items:center;
font-size:14px;
}

.kart button{
background:#27ae60;
color:white;
border:none;
border-radius:6px;
padding:6px 10px;
}

.kart span{
font-weight:bold;
}

hr{margin:12px 0}
</style>
</head>

<body>

<h2>üçΩ Garson Defteri</h2>

<select id="masaSelect"></select>

<div id="urunler"></div>

<hr>

<div class="saya√ß" id="toplamBilgi"></div>

<h3 style="text-align:center">üìã Daƒüƒ±tƒ±m</h3>
<div id="dagitim"></div>

<script>

const MASA_SAYISI=20;

const urunList=[
"Lahmacun Men√º",
"Tavuk ≈ûi≈ü Men√º",
"Beyti Men√º",
"Adana Men√º",
"Kƒ±ymalƒ± Pide",
"Ka≈üarlƒ± Pide",
"Ku≈üba≈üƒ±lƒ± Pide",
"Ku≈üba≈üƒ± Ka≈üarlƒ± Pide",
"Karƒ±≈üƒ±k Pide"
];

let db=JSON.parse(localStorage.getItem("siparisler")||"{}");

function init(){

let masaSelect=document.getElementById("masaSelect");
masaSelect.innerHTML="<option value=''>Masa Se√ß</option>";
for(let i=1;i<=MASA_SAYISI;i++){
masaSelect.innerHTML+=`<option value="${i}">Masa ${i}</option>`;
}

let urunDiv=document.getElementById("urunler");
urunList.forEach(u=>{
urunDiv.innerHTML+=`
<div class="urun">
<span>${u}</span>
<button onclick="urunEkle('${u}')">+</button>
</div>`;
});

guncelle();
}

function urunEkle(urun){
let masa=document.getElementById("masaSelect").value;
if(!masa){ alert("Masa se√ß"); return; }

if(!db["masa"+masa]) db["masa"+masa]={};

if(!db["masa"+masa][urun]) db["masa"+masa][urun]=0;

db["masa"+masa][urun]++;

kaydetDB();
guncelle();
}

function teslim(masa,urun){
db[masa][urun]--;
if(db[masa][urun]<=0) delete db[masa][urun];
if(Object.keys(db[masa]).length===0) delete db[masa];
kaydetDB();
guncelle();
}

function kaydetDB(){
localStorage.setItem("siparisler",JSON.stringify(db));
}

function guncelle(){

let toplamHTML="";
let toplamAdet=0;

urunList.forEach(u=>{
let adet=0;
for(let masa in db){
if(db[masa][u]) adet+=db[masa][u];
}
if(adet>0){
toplamHTML+=`${u}: ${adet} | `;
toplamAdet+=adet;
}
});

if(toplamHTML==="") toplamHTML="Aktif sipari≈ü yok";
else toplamHTML+=" Toplam: "+toplamAdet;

document.getElementById("toplamBilgi").innerText=toplamHTML;

let dagitimHTML="";

for(let masa in db){
for(let urun in db[masa]){
dagitimHTML+=`
<div class="kart">
<span>${urun}</span>
<div>
M${masa.replace("masa","")} (${db[masa][urun]})
<button onclick="teslim('${masa}','${urun}')">‚úî</button>
</div>
</div>`;
}
}

document.getElementById("dagitim").innerHTML=dagitimHTML;
}

init();

</script>
</body>
</html>
